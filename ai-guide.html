<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudflare Workers ржбрж┐ржкрзНрж▓рзЯ ржЧрж╛ржЗржб</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f4;
            padding: 20px;
            color: #333;
        }
        h1, h2 {
            text-align: center;
            color: #007bff;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        code {
            display: block;
            background: #282c34;
            color: #61dafb;
            padding: 10px;
            border-radius: 5px;
            white-space: pre-wrap;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #0056b3;
        }
        .highlight {
            color: #ff4500;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ЁЯЪА Cloudflare Workers ржбрж┐ржкрзНрж▓рзЯ ржЧрж╛ржЗржб</h1>

        <h2>ЁЯУМ Step 6: Set Up Hugging Face API Token</h2>
        <p>
            To use this API, you need a <b>Hugging Face API Token</b>. Follow these steps:
        </p>
        <ol>
            <li>Go to <a href="https://huggingface.co/settings/tokens" target="_blank">Hugging Face API Tokens</a></li>
            <li>Log in or create an account</li>
            <li>Click "New token" and create a token with <b>read access</b></li>
            <li>Copy the token</li>
        </ol>

        <h3>ЁЯУМ How to Add the API Token in Cloudflare Workers</h3>
        <p>Once you have the Hugging Face token, follow these steps:</p>
        <ol>
            <li>Open your Cloudflare Worker dashboard</li>
            <li>Go to your deployed Worker</li>
            <li>Click on <b>Variables</b> (Environment Variables)</li>
            <li>Add a new variable:
                <code>HUGGINGFACE_TOKEN = your_api_token_here</code>
            </li>
            <li>Click "Save and Deploy"</li>
        </ol>

        <h3>тЬЕ Now your API is ready to generate AI images!</h3>
        
        <h2>ЁЯУМ ржзрж╛ржк рзз: Cloudflare Workers рж▓ржЧржЗржи ржХрж░рзБржи</h2>
        <p><a href="https://workers.cloudflare.com/" target="_blank">Cloudflare Workers</a> ржП ржпрж╛ржи ржПржмржВ рж▓ржЧржЗржи ржХрж░рзБржиред</p>

        <h2>ЁЯУМ ржзрж╛ржк рзи: ржирждрзБржи Worker рждрзИрж░рж┐ ржХрж░рзБржи</h2>
        <p>Cloudflare Workers ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ <b>"Create a Service"</b> ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред</p>

        <h2>ЁЯУМ ржзрж╛ржк рзй: ржирж┐ржЪрзЗрж░ ржХрзЛржб ржХржкрж┐ ржХрж░рзБржи ржПржмржВ Worker ржП ржкрзЗрж╕рзНржЯ ржХрж░рзБржи</h2>
        <code id="worker-code">
// worker.js ржХрзЛржб
export default {
  async fetch(request, env) {
    const url = new URL(request.url);
    
    // тЬЕ рж╕ржорж╕рзНржд ржоржбрзЗрж▓ рж▓рж┐рж╕рзНржЯ
    const models = {
      "realistic_vision": "SG161222/Realistic_Vision_V5.1_noVAE",
      "dreamshaper": "Lykon/DreamShaper-v7",
      "sdxl": "stabilityai/stable-diffusion-xl-base-1.0",
      "deliberate": "XpucT/Deliberate",
      "anything_v5": "stabilityai/stable-diffusion-2-1",
      "protogen": "darkstorm2150/Protogen_x5.8",
      "flux": "black-forest-labs/FLUX.1-dev"  // тЬЕ ржирждрзБржи ржоржбрзЗрж▓ ржпрзБржХрзНржд ржХрж░рж╛ рж╣рж▓рзЛ
    };

    // тЬЕ ржпржжрж┐ model=list рж╣рзЯ, ржоржбрзЗрж▓ рж▓рж┐рж╕рзНржЯ ржжрзЗржЦрж╛ржмрзЗ
    if (url.searchParams.get("model") === "list") {
      return new Response(JSON.stringify(models, null, 2), {
        headers: { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*" }
      });
    }

    let modelKey = url.searchParams.get('model') || Object.keys(models)[Math.floor(Math.random() * Object.keys(models).length)];
    let model = models[modelKey] || models["realistic_vision"];
    
    const prompt = url.searchParams.get('input') || 'A futuristic city at sunset';
    const width = parseInt(url.searchParams.get('width')) || 1024;
    const height = parseInt(url.searchParams.get('height')) || 1024;
    const guidance_scale = parseFloat(url.searchParams.get('scale')) || 10;

    if (!env.HUGGINGFACE_TOKEN) {
      return new Response(JSON.stringify({ error: "Missing Hugging Face API token" }), {
        status: 401,
        headers: { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*" }
      });
    }

    const requestBody = {
      inputs: prompt,
      parameters: { width: width, height: height, guidance_scale: guidance_scale }
    };

    try {
      const response = await fetch(`https://api-inference.huggingface.co/models/${model}`, {
        method: "POST",
        headers: { "Authorization": `Bearer ${env.HUGGINGFACE_TOKEN}`, "Content-Type": "application/json" },
        body: JSON.stringify(requestBody)
      });

      if (!response.ok) {
        const errorResponse = await response.json();
        return new Response(JSON.stringify({ error: "Failed to fetch from Hugging Face API", details: errorResponse }), {
          status: response.status,
          headers: { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*" }
        });
      }

      const imageBuffer = await response.arrayBuffer();
      return new Response(imageBuffer, {
        headers: {
          "Content-Type": "image/png",
          "Access-Control-Allow-Origin": "*",
          "Access-Control-Allow-Methods": "GET, HEAD, OPTIONS"
        }
      });

    } catch (error) {
      return new Response(JSON.stringify({ error: "Internal Server Error", details: error.message }), {
        status: 500,
        headers: { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*" }
      });
    }
  }
};
        </code>
        <button onclick="copyToClipboard('worker-code')">ЁЯУЛ ржХрзЛржб ржХржкрж┐ ржХрж░рзБржи</button>

        <h2>ЁЯУМ ржзрж╛ржк рзк: Worker рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи ржПржмржВ Deploy ржХрж░рзБржи</h2>
        <p>Save ржХрж░рзБржи ржПржмржВ "Deploy" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред</p>

        <h2>ЁЯУМ ржзрж╛ржк рзл: API URL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи</h2>
        <p>ржЖржкржирж╛рж░ Worker ржПрж░ URL ржерзЗржХрзЗ API ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржЙржжрж╛рж╣рж░ржг:</p>
        <code>https://your-worker-name.YOUR_SUBDOMAIN.workers.dev/?input=Sunset&model=dreamshaper</code>

        <h2>ЁЯОЙ ржЖржкржирж╛рж░ API ржПржЦржи ржкрзНрж░рж╕рзНрждрзБржд!</h2>
        <p>ржЖржкржирж╛рж░ AI Image Generator ржПржЦржи Cloudflare Workers-ржП рж▓рж╛ржЗржн! ЁЯЪА</p>
    </div>

    <script>
        function copyToClipboard(elementId) {
            var text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("ржХрзЛржб рж╕ржлрж▓ржнрж╛ржмрзЗ ржХржкрж┐ рж╣ржпрж╝рзЗржЫрзЗ!");
            });
        }
    </script>

</body>
             </html>
