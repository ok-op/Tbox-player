<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terabox Video Player</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="input-container">
    <input type="text" id="teraboxLink" placeholder="Enter Terabox Link" />
    <button onclick="fetchVideo()">Load Video</button>
  </div>

  <div class="player-container" style="display: none;" id="videoContainer">
    <video id="teraboxVideo" controls>
      <source id="videoSource" src="" type="video/mp4">
      Your browser does not support HTML5 video.
    </video>
    <a id="downloadButton" class="btn download-btn" download>Download</a>
  </div>

  <script>
    async function fetchVideo() {
      const link = document.getElementById('teraboxLink').value;
      if (!link) {
        alert("Please enter a Terabox link!");
        return;
      }

      const url = `https://terabox-online-player-and-downloader-api.p.rapidapi.com/?link=${encodeURIComponent(link)}`;
      const options = {
        method: 'GET',
        headers: {
          'x-rapidapi-key': 'f906c3a2c5msh69f2635c2bcea4fp126701jsnfa01f457eed4',
          'x-rapidapi-host': 'terabox-online-player-and-downloader-api.p.rapidapi.com'
        }
      };

      try {
        const response = await fetch(url, options);
        const result = await response.json();

        if (result && result.video_url) { // নিশ্চিত করুন API সঠিক JSON রেসপন্স দিচ্ছে কিনা
          const videoUrl = result.video_url;

          // ভিডিও এবং ডাউনলোড লিঙ্ক সেট করা
          document.getElementById('videoSource').src = videoUrl;
          document.getElementById('teraboxVideo').load();
          document.getElementById('downloadButton').href = videoUrl;
          document.getElementById('downloadButton').style.display = "inline";
          
          // প্লেয়ার কন্টেইনার দেখানো
          document.getElementById('videoContainer').style.display = "block";
        } else {
          alert("Failed to fetch video URL. Please check the link or try again later.");
        }
      } catch (error) {
        console.error(error);
        alert("Failed to load video. Please check the link and try again.");
      }
    }
  </script>

</body>
</html>
